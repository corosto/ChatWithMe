<div *ngIf="messages$ | async as messages">
  <div
    *ngFor="let message of messages; let index = index"
    class="container"
    [class.move]="message.fromCurrentUser"
    [class.remove-gap]="messages[index+1]?.authorId === message.authorId"
  >
    <div
      class="message"
      [title]="message.date | messengerDate"
      [ngClass]="message.fromCurrentUser ? 'sent' : 'received'"
    >
      {{ message.content }}
    </div>
  </div>
</div>